# 相机预览条功能说明

## 概述

相机预览条是3DGS导播台系统的核心组件，它位于页面顶部，展示了所有可用相机的实时预览画面。此功能通过对每个相机的拍摄效果进行智能评分，帮助导播快速选择最佳视角。

## 主要功能

1. **多相机预览**：同时展示所有相机的实时预览画面
2. **智能评分排序**：根据相机拍摄效果自动排序（高分在前）
3. **视觉反馈**：通过边框颜色直观展示相机质量（绿色-优，黄色-良，红色-差）
4. **一键切换**：点击任意预览窗口即可切换到该相机视角

## 评分机制

相机评分基于以下三个核心维度：

1. **距离评分**（占比40%）：
   - 特写(0-3米): 30-40分
   - 中景(3-10米): 20-30分
   - 远景(>10米): 10-20分

2. **角度评分**（占比30%）：
   - 评估相机与人物的夹角，正面视角得分最高
   - 通过点积计算，范围0-30分

3. **构图评分**（占比30%）：
   - 目前为固定值，后续将实现基于构图规则的智能评分

## 使用方法

1. **加载测试数据**：点击界面左下角的"快速加载预览测试"按钮
2. **选择人物位置**：在3D场景中点击设置人物位置
3. **查看预览条**：顶部会显示所有相机的预览，按评分排序
4. **切换相机**：点击任意预览窗口切换到该相机视角

## 后续优化计划

1. **实时渲染优化**：提高预览窗口的渲染性能
2. **智能构图评分**：实现基于规则的构图质量评估
3. **相机视角自动调整**：根据人物移动自动调整相机参数
4. **预览窗口大小调整**：支持自定义预览窗口大小
5. **关键帧标记**：在预览条上标记重要时刻
6. **布局优化**：支持多种预览条布局风格

## 技术实现

相机预览条基于React和Three.js实现，主要组件包括：

- `CameraPreviewBar`：顶层组件，管理预览窗口排序
- `CameraPreview`：单个相机预览窗口
- `calculateCameraScore`：相机评分算法函数

相关文件：
- `ui/src/components/CameraPreviewBar.js`：预览条组件实现
- `ui/src/styles.css`：相关样式定义 